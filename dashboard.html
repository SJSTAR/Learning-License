<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Driving License Practice Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e8d6cb; /* Champagne Pink */
        }
        .text-main-dark { color: #5d2e46; /* Violet (JTC) */ }
        .text-main-light { color: #faf7f4; /* Lightest Champagne Pink */ }
        .bg-card { background-color: #faf7f4; }
        .card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(93, 46, 70, 0.1), 0 4px 6px -2px rgba(93, 46, 70, 0.05); }
        .num-btn { transition: all 0.2s ease-in-out; border-color: #d0ada7; /* Tea Rose */ color: #5d2e46; }
        .num-btn.active { background-color: #ad6a6c; /* Redwood */ color: white; border-color: #ad6a6c; transform: scale(1.1); box-shadow: 0 4px 14px 0 rgba(173, 106, 108, 0.39); }
        .btn-primary { background-color: #ad6a6c; /* Redwood */ }
        .btn-primary:hover { background-color: #915052; /* Darker Redwood */ }
        .gemini-card { background: linear-gradient(135deg, #ad6a6c, #5d2e46); } /* Redwood to Violet */
        
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in-up { animation: fadeInUp 0.6s ease-out forwards; opacity: 0; }
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        
        /* Toggle Switch */
        .switch { position: relative; display: inline-block; width: 60px; height: 34px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #d0ada7; /* Tea Rose */ transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: #b58db6; /* African Violet */ }
        input:checked + .slider:before { transform: translateX(26px); }
        .footer {
            background-color: #5d2e46; /* Violet (JTC) */
            color: #e8d6cb; /* Champagne Pink */
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <header class="bg-card shadow-sm sticky top-0 z-10">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-main-dark" id="header-title">Driving Test Dashboard</div>
            <div><a href="index.html" class="text-main-dark/80 hover:text-redwood" id="back-to-home">Back to Home</a></div>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-8 flex-grow">
        <div class="mb-8 fade-in-up">
            <h1 class="text-3xl font-bold text-main-dark" id="welcome-message">Welcome!</h1>
            <p class="text-main-dark/80" id="welcome-subtitle">Here's your daily tip. Ready for a new test?</p>
        </div>

        <div class="card gemini-card text-white p-6 rounded-lg shadow-lg mb-8 fade-in-up delay-100">
            <h2 class="text-xl font-semibold mb-3" id="gemini-title">✨ Today's Driving Tip</h2>
            <div id="tip-loader" class="flex items-center">
                <div class="w-8 h-8 border-4 border-white/50 border-t-white rounded-full animate-spin"></div>
                <p class="ml-4" id="gemini-loading">Generating your tip...</p>
            </div>
            <p id="gemini-tip-text" class="text-lg hidden"></p>
        </div>

        <div class="card bg-card p-8 rounded-lg shadow-lg text-center fade-in-up delay-200">
            <h2 class="text-2xl font-bold text-main-dark mb-4" id="start-test-title">Ready for the Challenge?</h2>
            
            <div class="max-w-md mx-auto">
                <div class="mb-6">
                    <p class="text-main-dark/80 mb-4" id="questions-label">Select Number of Questions:</p>
                    <div class="flex justify-center gap-4">
                        <button class="num-btn font-bold py-2 px-6 rounded-full border-2" data-num="10">10</button>
                        <button class="num-btn font-bold py-2 px-6 rounded-full border-2 active" data-num="15">15</button>
                        <button class="num-btn font-bold py-2 px-6 rounded-full border-2" data-num="20">20</button>
                    </div>
                </div>

                <div class="mb-8 flex items-center justify-center gap-4">
                     <span id="standard-q-label" class="text-main-dark/80">Standard Questions</span>
                     <label class="switch"><input type="checkbox" id="ai-toggle"><span class="slider"></span></label>
                    <span id="ai-q-label" class="font-bold" style="color: #b58db6;">✨ AI Generated</span>
                </div>
            </div>

            <a href="test.html" id="start-test-btn" class="btn-primary text-white font-bold py-3 px-8 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105 inline-block">Start Test</a>
        </div>
    </main>

    <footer class="w-full py-4 footer">
        <div class="container mx-auto px-6 flex justify-between items-center text-sm">
            <p>&copy; 2025 | Created by 
                <a href="https://sjstar.github.io/portfolio/" target="_blank" rel="noopener noreferrer" class="font-bold hover:underline" style="color: #b58db6;">SJ Star</a>
                <a href="https://www.linkedin.com/in/sjstar/" target="_blank" rel="noopener noreferrer" class="inline-block ml-2 transition-transform hover:scale-110">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="h-5 w-5" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                </a>
            </p>
            <p id="system-time" class="font-semibold"></p>
        </div>
    </footer>
    
    <script>
        const translations = {
            en: { "header-title": "Driving Test Dashboard", "back-to-home": "Back to Home", "welcome-message": "Welcome!", "welcome-subtitle": "Here's your daily tip. Ready for a new test?", "gemini-title": "✨ Today's Driving Tip", "gemini-loading": "Generating your tip...", "start-test-title": "Ready for the Challenge?", "questions-label": "Select Number of Questions:", "standard-q-label": "Standard Questions", "ai-q-label": "✨ AI Generated", "start-test-btn": "Start Test", },
            hi: { "header-title": "ड्राइविंग टेस्ट डैशबोर्ड", "back-to-home": "होम पर वापस जाएं", "welcome-message": "आपका स्वागत है!", "welcome-subtitle": "यह रही आपकी आज की टिप। क्या आप एक नए परीक्षण के लिए तैयार हैं?", "gemini-title": "✨ आज की ड्राइविंग टिप", "gemini-loading": "आपकी टिप तैयार हो रही है...", "start-test-title": "चुनौती के लिए तैयार हैं?", "questions-label": "प्रश्नों की संख्या चुनें:", "standard-q-label": "मानक प्रश्न", "ai-q-label": "✨ एआई द्वारा उत्पन्न", "start-test-btn": "टेस्ट शुरू करें", }
        };
        let userLang = 'en', numQuestions = 15, useAI = false;
        async function getDrivingTip() {
            const tipLoader = document.getElementById('tip-loader'), tipText = document.getElementById('gemini-tip-text');
            const prompt = `As a driving expert in India, provide one crucial and concise driving safety tip for Indian roads. Language: ${userLang === 'hi' ? 'Hindi' : 'English'}`;
            try {
                const payload = { contents: [{ role: "user", parts: [{ text: prompt }] }] }, apiKey = "AIzaSyBHeIvzQBvX4SWU9IReNuqvFeGuQ_nNWzw", apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                if (!response.ok) throw new Error(`API error`);
                const result = await response.json();
                tipText.innerText = result.candidates?.[0]?.content?.parts?.[0]?.text || "Could not retrieve a tip. Please check mirrors frequently!";
            } catch (error) { tipText.innerText = "Error loading tip. Always maintain a safe distance."; } finally { tipLoader.classList.add('hidden'); tipText.classList.remove('hidden'); }
        }
        function updateStartLink() { document.getElementById('start-test-btn').href = `test.html?lang=${userLang}&num=${numQuestions}&ai=${useAI}`; }
        function updateTime() { const timeElement = document.getElementById('system-time'); if (timeElement) { timeElement.textContent = new Date().toLocaleString(); } }
        document.addEventListener('DOMContentLoaded', () => {
            userLang = localStorage.getItem('userLanguage') || 'en';
            const t = translations[userLang];
            Object.keys(t).forEach(key => { const el = document.getElementById(key); if (el) el.textContent = t[key]; });
            document.querySelectorAll('.num-btn').forEach(button => {
                button.addEventListener('click', () => {
                    document.querySelectorAll('.num-btn').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    numQuestions = button.dataset.num;
                    updateStartLink();
                });
            });
            document.getElementById('ai-toggle').addEventListener('change', (e) => { useAI = e.target.checked; updateStartLink(); });
            updateStartLink();
            getDrivingTip();
            updateTime();
            setInterval(updateTime, 1000);
        });
    </script>
</body>
</html>
